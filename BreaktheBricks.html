<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style type="text/css">
        canvas{
            border: 1px red solid;
        }
    </style>
</head>
<body>

        <canvas id="div"  width="600" height="600"></canvas>

  <script>

            var log =console.log.bind(console)//输出指定信息----用来排除BUG或者查看信息

            var imageFromPath=function(path){
                var img = new Image()
                img.src =path
                return img
            }
    var paddle=function(){
        var image=imageFromPath("26124582.jpg")
        var o={
            image:image,
            x:100,
            y:200,
            speed:5,
        }
    }

      var _main =function(){

          var element= document.querySelector("#div")//拍板的id
          var context=element.getContext("2d")


//          var x=225;
//          var y=500;
//          var sppd=5;//移动速度
//          img.onload=function(){
//              context.drawImage(img, x, y)
//          }
        var paddle=paddle()
          var leftDown=false;
          var rightDown=false;

          window.addEventListener("keydown",move) ;
          function move(event){
              log("keydown")
              var k=event.key
              if(k == "d"){
                  rightDown=true;
              }else if ( k == "a"){
                  leftDown=true;
              }
          }
          window.addEventListener("keyup",stop) ;
          function stop(event){
              log("keyup")
              var k=event.key
              if(k == "d"){
                  rightDown=false;
              }else if ( k == "a"){
                  leftDown=false;
              }
          }
          setInterval(function(){

              //
              if(leftDown){
                  x-=sppd;
              }else if(rightDown){
                  x+=sppd;
              }
              context.clearRect(0,0,element.width,element.height)
              context.drawImage(img, x, y)
          },1000/60)
      }

            _main();
        </script>
</body>
</html>